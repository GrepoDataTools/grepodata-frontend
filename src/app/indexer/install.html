<div style="font-size: 18px;">
  <a (click)="dialogRef.close()" class="close"></a>

  <h1 class="mat-primary" style="color: #18BC9C; margin-top: 0px;" mat-dialog-title>Install the userscript</h1>

  <div mat-dialog-content>
    <br/>
    <div *ngIf="!clicked">
      <div class="alert alert-gd-1">
        <h3><strong>Step 1:</strong> Install Tampermonkey</h3>
        <p class="gd-secondary">Tampermonkey is the world's most popular userscript manager.</p>
        <br/>
        <div fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="center">
          <div fxLayout="column" fxLayoutAlign="center center" style="width: 20%;">
            <i style="font-size: 54px;" class="fa fa-chrome"></i><div>Chrome</div>
            <a tabindex="-1" href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo" target="_blank">Install</a>
          </div>
          <div fxLayout="column" fxLayoutAlign="center center" style="width: 20%;">
            <i style="font-size: 54px;" class="fa fa-safari"></i><div>Safari</div>
            <a tabindex="-1" href="https://tampermonkey.net/?browser=safari" target="_blank">Install</a>
          </div>
          <div fxLayout="column" fxLayoutAlign="center center" style="width: 20%;">
            <i style="font-size: 54px;" class="fa fa-firefox"></i><div>Firefox</div>
            <a tabindex="-1" href="https://addons.mozilla.org/en-US/firefox/addon/tampermonkey/?src=ss" target="_blank">Install</a>
          </div>
          <div fxLayout="column" fxLayoutAlign="center center" style="width: 20%;">
            <i style="font-size: 54px;" class="fa fa-opera"></i><div>Opera</div>
            <a tabindex="-1" href="https://addons.opera.com/en/extensions/details/tampermonkey-beta/" target="_blank">Install</a>
          </div>
          <div fxLayout="column" fxLayoutAlign="center center" style="width: 20%;">
            <i style="font-size: 54px;" class="fa fa-edge"></i><div>Edge</div>
            <a tabindex="-1" href="https://tampermonkey.net/?browser=edge" target="_blank">Install</a>
          </div>
        </div>
	      <br/>
	      <p class="gd-secondary">Restart your browser if you just installed Tampermonkey.</p>
      </div>

      <div fxLayout="row" fxLayoutAlign="center center" style="margin-bottom: 15px;">
        <i class="fa fa-arrow-down"></i>
      </div>

      <div class="alert alert-gd-1">
        <h3><strong>Step 2:</strong> Install the userscript for index {{key}}</h3>
        <br/>
        <a tabindex="-1" mat-button class="mat-raised-button bg-gd-2"
           style="font-size: 20px; padding: 8px; width: 100%; color: white; overflow: hidden; text-overflow: ellipsis;"
           href="https://api.grepodata.com/userscript/cityindexer_{{encrypted}}.user.js" target="_blank"
           (click)="clicked=true">
	        <span class="fa fa-download"></span> Install userscript <span class="gd-primary" style="vertical-align: baseline;">{{key}}</span>
        </a>
      </div>
    </div>
  </div>

  <div *ngIf="clicked">
    <div class="row">
      <div class="col-lg-12">
        <div class="alert alert-gd-1">
          <h3><strong>Done!</strong> Start collecting intel</h3>
          <br/>
          <p>
            Restart your browser and start collecting intel!
            The userscript will allow you to index reports from your alliance forum or from your personal inbox.
	          Simply click the <strong>index +</strong> button to upload a new report.
            <br/><br/>
	          Spread the index to your alliance members so they can help you collect more intelligence about your enemies.
            <br/><br/>
            <strong>It may take up to 3 minutes before new reports are shown on your index overview.</strong>
          </p>
          <br/>
          <div *ngIf="clicked" fxLayout="row" fxLayoutGap="20px">
            <button mat-button class="mat-raised-button mat-primary"
                    style="font-size: 18px; padding: 8px; color: white;" (click)="dialogRef.close()">
              Go to index
            </button>
            <a class="gd-gray a-link"
               style="font-size: 16px; padding: 14px;"
               (click)="clicked = false">
              <span class="fa fa-backward"></span> Back to instructions
            </a>
            <a class="gd-gray a-link"
               style="font-size: 16px; padding: 14px;"
               href="https://api.grepodata.com/userscript/cityindexer_{{encrypted}}.user.js" target="_blank">
              <span class="fa fa-download"></span> Download userscript
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
